{% extends 'base.html' %}
{% block content %}
<div class="container pt-5">

    <div class="card p-5">
        <h1>Relatório</h1>
        <form method="post" action="">
            {% csrf_token %}
            <div class="form-row">
                <div class="form-group col-md-6">
                    <label for="data-inicio">Data de Início:</label>
                    <input class="form-control" type="date" id="data-inicio" name="data-inicio" required>
                </div>


                <div class="form-group col-md-6">
                    <label for="data-fim">Data de Fim:</label>
                    <input class="form-control"
                           type="date" id="data-fim" name="data-fim" required>
                </div>


                <button class="btn btn-primary mt-2" type="submit">Pesquisar</button>
            </div>
        </form>

        <script>
        var dataInicioInput = document.getElementById("data-inicio");
        var dataFimInput = document.getElementById("data-fim");

        dataInicioInput.addEventListener("input", function() {
            var dataInicio = new Date(dataInicioInput.value);
            var dataFimLimite = new Date(dataInicio);
            dataFimLimite.setDate(dataFimLimite.getDate() + 31);

            var dataFimMaxima = dataFimLimite.toISOString().split("T")[0];
            dataFimInput.setAttribute("min", dataInicioInput.value);
            dataFimInput.setAttribute("max", dataFimMaxima);

            if (dataFimInput.value < dataInicioInput.value || dataFimInput.value > dataFimMaxima) {
                dataFimInput.value = "";
            }
        });




        </script>

    </div>

</div>
{% endblock %}